{"ast":null,"code":"var _jsxFileName = \"E:\\\\React Appliction\\\\Running Apps\\\\blog-frontend\\\\src\\\\Pages\\\\RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { register } from \"../lib/api\";\nimport RegistrationForm from \"../Components/Forms/RegistrationForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport Banner from \"../Components/Banner\";\nimport { useTranslation } from \"react-i18next\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RegisterPage = props => {\n  _s();\n\n  const [isRegistrationSuccess, setIsRegistrationSuccess] = useState(false);\n  const [registrationMessage, setRegistrationMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    t\n  } = useTranslation();\n  useEffect(() => {\n    setTimeout(() => {\n      if (isRegistrationSuccess) {\n        setIsRegistrationSuccess(false);\n        navigate(\"/login\");\n      }\n    }, 2000);\n  }, [isRegistrationSuccess]);\n\n  const onSubmit = (values, formikHelpers) => {\n    setTimeout(() => {\n      register(values).then(data => {\n        formikHelpers.resetForm();\n        setRegistrationMessage(t(\"newUserCreated\", {\n          newUser: data.userName\n        }));\n        setIsRegistrationSuccess(true);\n      }).catch(error => {\n        // console.log(error.message);\n        formikHelpers.setFieldError(\"register\", t(\"userAlreadyExists\", {\n          userName: error.message\n        }));\n      }).finally(() => {\n        formikHelpers.setSubmitting(false);\n      });\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"\",\n    style: {\n      marginTop: \"170px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"py-4 d-flex flex-column align-content-center\",\n      style: {\n        marginTop: props.headerHeight,\n        marginBottom: props.footerHeight\n      },\n      children: [/*#__PURE__*/_jsxDEV(RegistrationForm, {\n        isSubmitted: isRegistrationSuccess,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), isRegistrationSuccess && /*#__PURE__*/_jsxDEV(Banner, {\n        className: \"text-success border-success mt-4\",\n        message: registrationMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RegisterPage, \"TN2y4jySSoY/HTtQoyTEZoCTKrs=\", false, function () {\n  return [useNavigate, useTranslation];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["React","useEffect","useState","Container","Row","register","RegistrationForm","useNavigate","Banner","useTranslation","RegisterPage","props","isRegistrationSuccess","setIsRegistrationSuccess","registrationMessage","setRegistrationMessage","navigate","t","setTimeout","onSubmit","values","formikHelpers","then","data","resetForm","newUser","userName","catch","error","setFieldError","message","finally","setSubmitting","marginTop","headerHeight","marginBottom","footerHeight"],"sources":["E:/React Appliction/Running Apps/blog-frontend/src/Pages/RegisterPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { register } from \"../lib/api\";\nimport RegistrationForm from \"../Components/Forms/RegistrationForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport Banner from \"../Components/Banner\";\nimport { useTranslation } from \"react-i18next\";\n\nconst RegisterPage = (props) => {\n  const [isRegistrationSuccess, setIsRegistrationSuccess] = useState(false);\n  const [registrationMessage, setRegistrationMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (isRegistrationSuccess) {\n        setIsRegistrationSuccess(false);\n        navigate(\"/login\");\n      }\n    }, 2000);\n  }, [isRegistrationSuccess]);\n\n  const onSubmit = (values, formikHelpers) => {\n    setTimeout(() => {\n      register(values)\n        .then((data) => {\n          formikHelpers.resetForm();\n          setRegistrationMessage(\n            t(\"newUserCreated\", { newUser: data.userName })\n          );\n          setIsRegistrationSuccess(true);\n        })\n        .catch((error) => {\n          // console.log(error.message);\n          formikHelpers.setFieldError(\n            \"register\",\n            t(\"userAlreadyExists\", { userName: error.message })\n          );\n        })\n        .finally(() => {\n          formikHelpers.setSubmitting(false);\n        });\n    }, 1000);\n  };\n  return (\n    <Container className=\"\" style={{marginTop:\"170px\" }}>\n      <Row\n        className=\"py-4 d-flex flex-column align-content-center\"\n        style={{\n          marginTop: props.headerHeight,\n          marginBottom: props.footerHeight,\n        }}\n      >\n        <RegistrationForm\n          isSubmitted={isRegistrationSuccess}\n          onSubmit={onSubmit}\n        />\n        {isRegistrationSuccess && (\n          <Banner\n            className=\"text-success border-success mt-4\"\n            message={registrationMessage}\n          />\n        )}\n      </Row>\n    </Container>\n  );\n};\n\nexport default RegisterPage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,iBAA/B;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,cAAT,QAA+B,eAA/B;;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;EAAA;;EAC9B,MAAM,CAACC,qBAAD,EAAwBC,wBAAxB,IAAoDX,QAAQ,CAAC,KAAD,CAAlE;EACA,MAAM,CAACY,mBAAD,EAAsBC,sBAAtB,IAAgDb,QAAQ,CAAC,EAAD,CAA9D;EACA,MAAMc,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAM;IAAEU;EAAF,IAAQR,cAAc,EAA5B;EAEAR,SAAS,CAAC,MAAM;IACdiB,UAAU,CAAC,MAAM;MACf,IAAIN,qBAAJ,EAA2B;QACzBC,wBAAwB,CAAC,KAAD,CAAxB;QACAG,QAAQ,CAAC,QAAD,CAAR;MACD;IACF,CALS,EAKP,IALO,CAAV;EAMD,CAPQ,EAON,CAACJ,qBAAD,CAPM,CAAT;;EASA,MAAMO,QAAQ,GAAG,CAACC,MAAD,EAASC,aAAT,KAA2B;IAC1CH,UAAU,CAAC,MAAM;MACfb,QAAQ,CAACe,MAAD,CAAR,CACGE,IADH,CACSC,IAAD,IAAU;QACdF,aAAa,CAACG,SAAd;QACAT,sBAAsB,CACpBE,CAAC,CAAC,gBAAD,EAAmB;UAAEQ,OAAO,EAAEF,IAAI,CAACG;QAAhB,CAAnB,CADmB,CAAtB;QAGAb,wBAAwB,CAAC,IAAD,CAAxB;MACD,CAPH,EAQGc,KARH,CAQUC,KAAD,IAAW;QAChB;QACAP,aAAa,CAACQ,aAAd,CACE,UADF,EAEEZ,CAAC,CAAC,mBAAD,EAAsB;UAAES,QAAQ,EAAEE,KAAK,CAACE;QAAlB,CAAtB,CAFH;MAID,CAdH,EAeGC,OAfH,CAeW,MAAM;QACbV,aAAa,CAACW,aAAd,CAA4B,KAA5B;MACD,CAjBH;IAkBD,CAnBS,EAmBP,IAnBO,CAAV;EAoBD,CArBD;;EAsBA,oBACE,QAAC,SAAD;IAAW,SAAS,EAAC,EAArB;IAAwB,KAAK,EAAE;MAACC,SAAS,EAAC;IAAX,CAA/B;IAAA,uBACE,QAAC,GAAD;MACE,SAAS,EAAC,8CADZ;MAEE,KAAK,EAAE;QACLA,SAAS,EAAEtB,KAAK,CAACuB,YADZ;QAELC,YAAY,EAAExB,KAAK,CAACyB;MAFf,CAFT;MAAA,wBAOE,QAAC,gBAAD;QACE,WAAW,EAAExB,qBADf;QAEE,QAAQ,EAAEO;MAFZ;QAAA;QAAA;QAAA;MAAA,QAPF,EAWGP,qBAAqB,iBACpB,QAAC,MAAD;QACE,SAAS,EAAC,kCADZ;QAEE,OAAO,EAAEE;MAFX;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CA3DD;;GAAMJ,Y;UAGaH,W,EACHE,c;;;KAJVC,Y;AA6DN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}
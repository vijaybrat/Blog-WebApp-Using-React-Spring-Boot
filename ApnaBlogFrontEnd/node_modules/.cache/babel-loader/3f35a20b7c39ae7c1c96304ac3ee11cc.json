{"ast":null,"code":"var _jsxFileName = \"E:\\\\React Appliction\\\\Running Apps\\\\blog-frontend\\\\src\\\\Pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { login } from \"../lib/api\";\nimport LoginForm from \"../Components/Forms/LoginForm\";\nimport AuthContext from \"../store/auth-context\";\nimport Banner from \"../Components/Banner\";\nimport { useTranslation } from \"react-i18next\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = props => {\n  _s();\n\n  const [isLoginSuccess, setIsLoginSuccess] = useState(false);\n  const [loginMessage, setLoginMessage] = useState(\"\");\n  const authCtx = useContext(AuthContext);\n  const {\n    t\n  } = useTranslation();\n\n  const onSubmit = (loginRequest, formikHelpers) => {\n    setTimeout(() => {\n      login(loginRequest).then(loginResponse => {\n        setIsLoginSuccess(true);\n        setLoginMessage(`${t(\"signedInAs\")} ${loginResponse.userName}`);\n        setTimeout(() => {\n          authCtx.login(loginResponse);\n        }, 2000);\n      }).catch(error => {\n        if (error.message.includes(\"password\")) {\n          formikHelpers.setFieldError(\"invalidPassword\", t(\"validation:invalidPassword\"));\n        } else {\n          formikHelpers.setFieldError(\"invalidUsername\", t(\"validation:invalidUsername\"));\n        }\n      }).finally(() => {\n        formikHelpers.setSubmitting(false);\n      });\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"\",\n    style: {\n      height: \"100vh\",\n      marginTop: \"0px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"py-4 d-flex flex-column align-content-center\",\n      style: {\n        marginTop: props.headerHeight,\n        marginBottom: props.footerHeight\n      },\n      children: [/*#__PURE__*/_jsxDEV(LoginForm, {\n        isSubmitted: isLoginSuccess,\n        onSubmit: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), isLoginSuccess && /*#__PURE__*/_jsxDEV(Banner, {\n        className: \"text-success border-success mt-4\",\n        message: loginMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginPage, \"5YOmp+XeGj2I1l2uKlTMEngE0p4=\", false, function () {\n  return [useTranslation];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useContext","useState","Container","Row","login","LoginForm","AuthContext","Banner","useTranslation","LoginPage","props","isLoginSuccess","setIsLoginSuccess","loginMessage","setLoginMessage","authCtx","t","onSubmit","loginRequest","formikHelpers","setTimeout","then","loginResponse","userName","catch","error","message","includes","setFieldError","finally","setSubmitting","height","marginTop","headerHeight","marginBottom","footerHeight"],"sources":["E:/React Appliction/Running Apps/blog-frontend/src/Pages/LoginPage.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { login } from \"../lib/api\";\nimport LoginForm from \"../Components/Forms/LoginForm\";\nimport AuthContext from \"../store/auth-context\";\nimport Banner from \"../Components/Banner\";\nimport { useTranslation } from \"react-i18next\";\n\nconst LoginPage = (props) => {\n  const [isLoginSuccess, setIsLoginSuccess] = useState(false);\n  const [loginMessage, setLoginMessage] = useState(\"\");\n  const authCtx = useContext(AuthContext);\n  const { t } = useTranslation();\n\n  const onSubmit = (loginRequest, formikHelpers) => {\n    setTimeout(() => {\n      login(loginRequest)\n        .then((loginResponse) => {\n          setIsLoginSuccess(true);\n          setLoginMessage(`${t(\"signedInAs\")} ${loginResponse.userName}`);\n          setTimeout(() => {\n            authCtx.login(loginResponse);\n          }, 2000);\n        })\n        .catch((error) => {\n          if (error.message.includes(\"password\")) {\n            formikHelpers.setFieldError(\n              \"invalidPassword\",\n              t(\"validation:invalidPassword\")\n            );\n          } else {\n            formikHelpers.setFieldError(\n              \"invalidUsername\",\n              t(\"validation:invalidUsername\")\n            );\n          }\n        })\n        .finally(() => {\n          formikHelpers.setSubmitting(false);\n        });\n    }, 1000);\n  };\n\n  return (\n    <Container className=\"\" style={{ height: \"100vh\",marginTop:\"0px\" }}>\n      <Row\n        className=\"py-4 d-flex flex-column align-content-center\"\n        style={{\n          marginTop: props.headerHeight,\n          marginBottom: props.footerHeight,\n        }}\n      >\n        <LoginForm isSubmitted={isLoginSuccess} onSubmit={onSubmit} />\n        {isLoginSuccess && (\n          <Banner\n            className=\"text-success border-success mt-4\"\n            message={loginMessage}\n          />\n        )}\n      </Row>\n    </Container>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,iBAA/B;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,cAAT,QAA+B,eAA/B;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;EAAA;;EAC3B,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCX,QAAQ,CAAC,KAAD,CAApD;EACA,MAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAMc,OAAO,GAAGf,UAAU,CAACM,WAAD,CAA1B;EACA,MAAM;IAAEU;EAAF,IAAQR,cAAc,EAA5B;;EAEA,MAAMS,QAAQ,GAAG,CAACC,YAAD,EAAeC,aAAf,KAAiC;IAChDC,UAAU,CAAC,MAAM;MACfhB,KAAK,CAACc,YAAD,CAAL,CACGG,IADH,CACSC,aAAD,IAAmB;QACvBV,iBAAiB,CAAC,IAAD,CAAjB;QACAE,eAAe,CAAE,GAAEE,CAAC,CAAC,YAAD,CAAe,IAAGM,aAAa,CAACC,QAAS,EAA9C,CAAf;QACAH,UAAU,CAAC,MAAM;UACfL,OAAO,CAACX,KAAR,CAAckB,aAAd;QACD,CAFS,EAEP,IAFO,CAAV;MAGD,CAPH,EAQGE,KARH,CAQUC,KAAD,IAAW;QAChB,IAAIA,KAAK,CAACC,OAAN,CAAcC,QAAd,CAAuB,UAAvB,CAAJ,EAAwC;UACtCR,aAAa,CAACS,aAAd,CACE,iBADF,EAEEZ,CAAC,CAAC,4BAAD,CAFH;QAID,CALD,MAKO;UACLG,aAAa,CAACS,aAAd,CACE,iBADF,EAEEZ,CAAC,CAAC,4BAAD,CAFH;QAID;MACF,CApBH,EAqBGa,OArBH,CAqBW,MAAM;QACbV,aAAa,CAACW,aAAd,CAA4B,KAA5B;MACD,CAvBH;IAwBD,CAzBS,EAyBP,IAzBO,CAAV;EA0BD,CA3BD;;EA6BA,oBACE,QAAC,SAAD;IAAW,SAAS,EAAC,EAArB;IAAwB,KAAK,EAAE;MAAEC,MAAM,EAAE,OAAV;MAAkBC,SAAS,EAAC;IAA5B,CAA/B;IAAA,uBACE,QAAC,GAAD;MACE,SAAS,EAAC,8CADZ;MAEE,KAAK,EAAE;QACLA,SAAS,EAAEtB,KAAK,CAACuB,YADZ;QAELC,YAAY,EAAExB,KAAK,CAACyB;MAFf,CAFT;MAAA,wBAOE,QAAC,SAAD;QAAW,WAAW,EAAExB,cAAxB;QAAwC,QAAQ,EAAEM;MAAlD;QAAA;QAAA;QAAA;MAAA,QAPF,EAQGN,cAAc,iBACb,QAAC,MAAD;QACE,SAAS,EAAC,kCADZ;QAEE,OAAO,EAAEE;MAFX;QAAA;QAAA;QAAA;MAAA,QATJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CAtDD;;GAAMJ,S;UAIUD,c;;;KAJVC,S;AAwDN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}